{"ast":null,"code":"import { sql_query } from './db';\n\nconst handlerNoticias = async (_, res) => {\n  try {\n    const data = new Date();\n    const dia = String(data.getDate()).padStart(2, '0');\n    const mes = String(data.getMonth() + 1).padStart(2, '0');\n    const ano = data.getFullYear();\n    const datatratada = `${ano}-${mes}-${dia}`;\n    const results = await sql_query(`select obr_nome from tab_obrigacoes where (obr_datainicio <= '${datatratada}' and obr_datafinal >= '${datatratada}') order by obr_destaque desc, obr_codigo asc`);\n    return res.json(results);\n  } catch (e) {\n    res.status(500).json({\n      message: e.message\n    });\n  }\n};\n\nexport default handlerNoticias;","map":{"version":3,"sources":["C:/Users/suporte02/Desktop/hosting-provider-next/src/pages/api/agenda.js"],"names":["sql_query","handlerNoticias","_","res","data","Date","dia","String","getDate","padStart","mes","getMonth","ano","getFullYear","datatratada","results","json","e","status","message"],"mappings":"AAAA,SAASA,SAAT,QAA0B,MAA1B;;AAEA,MAAMC,eAAe,GAAG,OAAOC,CAAP,EAAUC,GAAV,KAAkB;AACxC,MAAG;AACD,UAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACF,UAAMC,GAAG,GAAGC,MAAM,CAACH,IAAI,CAACI,OAAL,EAAD,CAAN,CAAuBC,QAAvB,CAAgC,CAAhC,EAAmC,GAAnC,CAAZ;AACA,UAAMC,GAAG,GAAGH,MAAM,CAACH,IAAI,CAACO,QAAL,KAAkB,CAAnB,CAAN,CAA4BF,QAA5B,CAAqC,CAArC,EAAwC,GAAxC,CAAZ;AACA,UAAMG,GAAG,GAAGR,IAAI,CAACS,WAAL,EAAZ;AACA,UAAMC,WAAW,GAAI,GAAEF,GAAI,IAAGF,GAAI,IAAGJ,GAAI,EAAzC;AACE,UAAMS,OAAO,GAAG,MAAMf,SAAS,CAAE,iEAAgEc,WAAY,2BAA0BA,WAAY,+CAApH,CAA/B;AAEA,WAAOX,GAAG,CAACa,IAAJ,CAASD,OAAT,CAAP;AACD,GATD,CASE,OAAOE,CAAP,EAAU;AAEVd,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB;AAAEG,MAAAA,OAAO,EAAEF,CAAC,CAACE;AAAb,KAArB;AAED;AACF,CAfD;;AAiBA,eAAelB,eAAf","sourcesContent":["import { sql_query } from './db'\r\n\r\nconst handlerNoticias = async (_, res) => {\r\n  try{\r\n    const data = new Date()\r\n  const dia = String(data.getDate()).padStart(2, '0');\r\n  const mes = String(data.getMonth() + 1).padStart(2, '0');\r\n  const ano = data.getFullYear();\r\n  const datatratada = `${ano}-${mes}-${dia}`\r\n    const results = await sql_query(`select obr_nome from tab_obrigacoes where (obr_datainicio <= '${datatratada}' and obr_datafinal >= '${datatratada}') order by obr_destaque desc, obr_codigo asc`)\r\n\r\n    return res.json(results)\r\n  } catch (e) {\r\n    \r\n    res.status(500).json({ message: e.message })\r\n    \r\n  }\r\n}\r\n\r\nexport default handlerNoticias"]},"metadata":{},"sourceType":"module"}